{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"D:\\\\react\\\\text-encryption\\\\src\\\\screens\\\\MainScreen.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Clipboard from \"react-native-web/dist/exports/Clipboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { THEME } from \"../THEME\";\nimport { keyEedit, textEdit, encriptTextEdit, deEncriptTextEdit } from \"../store/actions/main\";\nimport { lang } from \"../lang/lang\";\nexport var MainScreen = function MainScreen() {\n  console.log(\"start pro - \");\n  var currentLang = useSelector(function (state) {\n    return state.mainReducer.askiiCod;\n  });\n  var dispatch = useDispatch();\n  var mainText = useSelector(function (state) {\n    return state.mainReducer.startText;\n  });\n  var key = useSelector(function (state) {\n    return state.mainReducer.key;\n  });\n  var decodingText = useSelector(function (state) {\n    return state.mainReducer.deEncriptText;\n  });\n  var finishText = useSelector(function (state) {\n    console.log(\"store - \", state);\n    return state.mainReducer.encriptText;\n  });\n\n  function textToArr(text) {\n    var arr = [];\n    var fullArr = [];\n\n    for (var i = 0; i < text.length; i++) {\n      var simbol = text[i];\n      var nSimbol = currentLang.indexOf(simbol) + 1;\n      arr.push(nSimbol);\n      fullArr.push({\n        s: simbol,\n        n: nSimbol\n      });\n    }\n\n    console.log(fullArr);\n    return arr;\n  }\n\n  function codeText(textSimArray, keySimArray) {\n    var i = -1;\n    var retArr = textSimArray.map(function (e) {\n      i++;\n      i > keySimArray.length - 1 ? i = 0 : false;\n      var result = (e + keySimArray[i]) % currentLang.length;\n      console.log(\"text - \" + e + \", key - \" + keySimArray[i] + \" = result \" + result);\n      return result;\n    });\n    return retArr;\n  }\n\n  function arrToText(arr) {\n    var str = \"\";\n    arr.forEach(function (element) {\n      str = str + currentLang[element - 1];\n    });\n    return str;\n  }\n\n  function deCodeText(textArr, keyArr) {\n    var i = -1;\n    var long = currentLang.length;\n    var result = textArr.map(function (e) {\n      i++;\n      i == keyArr.length ? i = 0 : false;\n      var r = e - keyArr[i];\n      r <= 0 ? r = long - keyArr[i] + e : false;\n      return r;\n    });\n    return result;\n  }\n\n  function mainTest(text, key) {\n    var textArray = textToArr(text),\n        keyArray = textToArr(key),\n        testCodeText = codeText(textArray, keyArray),\n        testResultCode = arrToText(testCodeText),\n        CodeSimbols = textToArr(testResultCode),\n        decode = deCodeText(CodeSimbols, keyArray),\n        decodetText = arrToText(decode);\n\n    if (text == decodetText) {\n      console.log(\"text - \" + text + \"\\n      key - \" + key + \"\\n      code - \" + testResultCode + \"\\n      decode - \" + decodetText);\n    } else {\n      console.log(\"----START----\");\n      console.log(\"test text - \", text);\n      console.log(\"array symbol text - \", textArray);\n      console.log(\"test key - \", key);\n      console.log(\"currentLang - \", currentLang);\n      console.log(\"testCodeText\", testCodeText);\n      console.log(\"testResultCode\", testResultCode);\n      console.log(\"------------------\");\n      console.log(\"testDecode symbol\", CodeSimbols);\n      console.log(\"testDecodeText\", decode);\n      console.log(\"decodetText\", decodetText);\n      console.log(\"----FINISH----\");\n    }\n  }\n\n  mainTest(\"\\\\'!\\\"#$%&()*+,-./0123456789:;<=>? @ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~\\u0410\\u0411\\u0412\\u0413\\u0414\\u0415\\u0416\\u0417\\u0418\\u0419\\u041A\\u041B\\u041C\\u041D\\u041E\\u041F\\u0420\\u0421\\u0422\\u0423\\u0424\\u0425\\u0426\\u0427\\u0428\\u0429\\u042A\\u042B\\u042C\\u042D\\u042E\\u042F\\u0430\\u0431\\u0432\\u0433\\u0434\\u0435\\u0436\\u0437\\u0438\\u0439\\u043A\\u043B\\u043C\\u043D\\u043E\\u043F\\u0440\\u0441\\u0442\\u0443\\u0444\\u0445\\u0446\\u0447\\u0448\\u0449\\u044A\\u044B\\u044C\\u044D\\u044E\\u044F\", 'x');\n\n  var _onChangeText = function onChangeText(text) {\n    dispatch(textEdit(text));\n  };\n\n  var onChangeKey = function onChangeKey(text) {\n    dispatch(keyEedit(text));\n  };\n\n  var onPressDeCode = function onPressDeCode() {\n    var textArr = textToArr(mainText);\n    keyArr = textToArr(key), codeArr = deCodeText(textArr, keyArr), codingText = arrToText(codeArr);\n  };\n\n  var onPressCode = function onPressCode() {\n    var textArr = textToArr(mainText),\n        keyArr = textToArr(key),\n        codeArr = codeText(textArr, keyArr),\n        codingText = arrToText(codeArr);\n    dispatch(encriptTextEdit(codingText));\n    codeText(textToArr(currentLang), textToArr(currentLang));\n    console.log(textArr);\n    console.log(keyArr);\n    console.log(codeArr);\n    console.log(\"codingText\", codingText);\n    var decodeArr = deCodeText(codeArr, keyArr),\n        changeText = arrToText(decodeArr);\n    dispatch(deEncriptTextEdit(changeText));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    elevation: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  })), React.createElement(ScrollView, {\n    style: styles.scroll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.mainWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.inputWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    numberOfLines: 4,\n    multiline: true,\n    placeholder: \"Введите текст...\",\n    onChangeText: function onChangeText(text) {\n      return _onChangeText(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.inputWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Введите ключ...\",\n    onChangeText: function onChangeText(text) {\n      return onChangeKey(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.btnWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.btn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"\\u0428\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",\n    onPress: onPressCode,\n    color: THEME.btn_color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.btn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"\\u0420\\u0430\\u0437\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",\n    onPress: onPressDeCode,\n    color: THEME.btn_color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: styles.inputWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    numberOfLines: 4,\n    multiline: true,\n    placeholder: \"Результат...\",\n    editable: false,\n    value: finishText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.btn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    title: \"\\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",\n    onPress: Clipboard.setString(finishText),\n    color: THEME.btn_color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: _objectSpread(_objectSpread({}, styles.inputWrapper), {}, {\n      backgroundColor: THEME.bg_color\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    style: _objectSpread(_objectSpread({}, styles.input), {}, {\n      backgroundColor: THEME.bg_color\n    }),\n    numberOfLines: 4,\n    multiline: true,\n    editable: false,\n    placeholder: \"Проверка\",\n    value: decodingText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  })))), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }\n  }, currentLang), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }\n  }, \" sdf\"), React.createElement(StatusBar, {\n    style: \"auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: THEME.bg_color,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\"\n  },\n  header: {\n    width: \"100%\",\n    height: 80,\n    backgroundColor: THEME.header_color,\n    marginBottom: 5\n  },\n  scroll: {\n    width: \"100%\"\n  },\n  mainWrapper: {\n    alignItems: \"center\",\n    backgroundColor: \"#fff\",\n    width: \"100%\",\n    backgroundColor: THEME.bg_color\n  },\n  input: {\n    backgroundColor: \"#fff\",\n    width: \"100%\"\n  },\n  inputWrapper: {\n    padding: 5,\n    borderRadius: 8,\n    backgroundColor: \"#fff\",\n    width: \"80%\",\n    marginVertical: 5\n  },\n  btnWrapper: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    width: \"80%\",\n    marginTop: 10\n  },\n  btn: {\n    width: \"45%\"\n  },\n  text: {\n    color: \"white\"\n  }\n});\n\nvar changeLangArr = function changeLangArr(text) {\n  var mapArray = [];\n\n  for (var i = 0; i < str.length; i++) {\n    var arr = {\n      i: i,\n      str: str[i]\n    };\n    mapArray.push(arr);\n  }\n\n  console.log(mapArray);\n  console.log(str);\n};","map":{"version":3,"sources":["D:/react/text-encryption/src/screens/MainScreen.jsx"],"names":["StatusBar","React","useEffect","useDispatch","useSelector","THEME","keyEedit","textEdit","encriptTextEdit","deEncriptTextEdit","lang","MainScreen","console","log","currentLang","state","mainReducer","askiiCod","dispatch","mainText","startText","key","decodingText","deEncriptText","finishText","encriptText","textToArr","text","arr","fullArr","i","length","simbol","nSimbol","indexOf","push","s","n","codeText","textSimArray","keySimArray","retArr","map","e","result","arrToText","str","forEach","element","deCodeText","textArr","keyArr","long","r","mainTest","textArray","keyArray","testCodeText","testResultCode","CodeSimbols","decode","decodetText","onChangeText","onChangeKey","onPressDeCode","codeArr","codingText","onPressCode","decodeArr","changeText","styles","container","header","scroll","mainWrapper","inputWrapper","input","btnWrapper","btn","btn_color","Clipboard","setString","backgroundColor","bg_color","StyleSheet","create","flex","alignItems","justifyContent","width","height","header_color","marginBottom","padding","borderRadius","marginVertical","flexDirection","marginTop","color","changeLangArr","mapArray"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Clipboard,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ScrollView,\r\n  Button,\r\n  TouchableOpacity,\r\n  TextInput,\r\n} from \"react-native\";\r\nimport { THEME } from \"../THEME\";\r\nimport {\r\n  keyEedit,\r\n  textEdit,\r\n  encriptTextEdit,\r\n  deEncriptTextEdit,\r\n} from \"../store/actions/main\";\r\nimport { lang } from \"../lang/lang\";\r\n\r\nexport const MainScreen = () => {\r\n  console.log(\"start pro - \");\r\n  const currentLang = useSelector((state) => state.mainReducer.askiiCod);\r\n  const dispatch = useDispatch();\r\n  /*useEffect(()=>{\r\n    dispatch(changeKey()\r\n    )\r\n  },[dispatch])\r\n  */\r\n  const mainText = useSelector((state) => state.mainReducer.startText);\r\n  const key = useSelector((state) => state.mainReducer.key);\r\n  const decodingText = useSelector((state) => state.mainReducer.deEncriptText);\r\n  const finishText = useSelector((state) => {\r\n    console.log(\"store - \", state);\r\n    return state.mainReducer.encriptText;\r\n  });\r\n\r\n  //--------------------\r\n  function textToArr(text) {\r\n    let arr = [];\r\n    let fullArr = [];\r\n\r\n    for (let i = 0; i < text.length; i++) {\r\n      let simbol = text[i];\r\n      let nSimbol = currentLang.indexOf(simbol) + 1;\r\n      arr.push(nSimbol);\r\n      fullArr.push({s:simbol,n:nSimbol})\r\n      \r\n      //console.log(`array simbol ${nSimbol} - ${text[i]}`);\r\n    }\r\n    console.log(fullArr)\r\n    return arr;\r\n  }\r\n  function codeText(textSimArray, keySimArray) {\r\n    let i = -1;\r\n    let retArr = textSimArray.map((e) => {\r\n      i++;\r\n      i > keySimArray.length - 1 ? (i = 0) : false;\r\n\r\n      let result = (e + keySimArray[i]) % currentLang.length;\r\n      console.log(`text - ${e}, key - ${keySimArray[i]} = result ${result}`);\r\n      return result;\r\n    });\r\n\r\n    return retArr;\r\n  }\r\n  function arrToText(arr) {\r\n    let str = \"\";\r\n    arr.forEach((element) => {\r\n      str = str + currentLang[element - 1];\r\n    });\r\n    return str;\r\n  }\r\n  function deCodeText(textArr, keyArr) {\r\n    let i = -1;\r\n    let long = currentLang.length;\r\n    let result = textArr.map((e) => {\r\n      i++;\r\n      i == keyArr.length ? (i = 0) : false;\r\n      let r = e - keyArr[i];\r\n      r <= 0? (r = long - keyArr[i] + e) : false;\r\n      \r\n      //console.log(`номер символа ${e} - номен ключа ${keyArr[i]} = ${r}`)\r\n      //console.log(`шаг ключа = ${i}`)\r\n      \r\n      \r\n      return r;\r\n    });\r\n    return result; \r\n  }\r\n  function mainTest(text, key) {\r\n    /*\r\n    - получить допустимые символы 'currentLang'\r\n    - проверить символы в тексте и в ключе\r\n    - перевети симоволы ключа в масив\r\n    - перевести символы текста в масив\r\n    - зашифровать, получить масив шифрованых символов\r\n    - перевести зашифрованный масив в текст\r\n    ---\r\n    - перевеси шифрованый текст в масив\r\n    - перевести ключ в масив (уже сделанно)\r\n    - разшифровать - получить мачив символов\r\n    - перевести масив в текст\r\n    */                \r\n    let\r\n    //currentLang\r\n      textArray = textToArr(text),\r\n      keyArray = textToArr(key),\r\n      testCodeText = codeText(textArray, keyArray),\r\n      testResultCode = arrToText(testCodeText),\r\n      ///--\r\n      CodeSimbols = textToArr(testResultCode),\r\n      decode = deCodeText(CodeSimbols, keyArray),\r\n      decodetText = arrToText(decode);\r\n     if (text == decodetText){ \r\n      console.log(`text - ${text}\r\n      key - ${key}\r\n      code - ${testResultCode}\r\n      decode - ${decodetText}`);}\r\n      else{\r\n\r\n    console.log(\"----START----\");\r\n    console.log(\"test text - \", text);\r\n    console.log(\"array symbol text - \", textArray);\r\n    console.log(\"test key - \", key);\r\n    console.log(\"currentLang - \", currentLang);\r\n    console.log(\"testCodeText\", testCodeText);\r\n    console.log(\"testResultCode\", testResultCode);\r\n    console.log(\"------------------\");\r\n    console.log(\"testDecode symbol\", CodeSimbols);\r\n    console.log(\"testDecodeText\", decode);\r\n    console.log(\"decodetText\", decodetText);\r\n    console.log(\"----FINISH----\");\r\n     }\r\n  }\r\n\r\n  //mainTest(`'!\"`,`'`)\r\n  //mainTest(`hell\r\n//o`,`rty`)\r\n//mainTest('я люблю ','xvj')\r\nmainTest(`\\\\'!\"#$%&()*+,-./0123456789:;<=>? @ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя`,'x')\r\n\r\n\r\n\r\n\r\n\r\n\r\n  let onChangeText = (text) => {\r\n    dispatch(textEdit(text));\r\n  };\r\n  let onChangeKey = (text) => {\r\n    dispatch(keyEedit(text));\r\n  };\r\n\r\n  let onPressDeCode = () => {\r\n    let textArr = textToArr(mainText); // числовой масив текста\r\n    (keyArr = textToArr(key)), // числовой масив ключа\r\n      (codeArr = deCodeText(textArr, keyArr)), // числовой масив закодированого текста\r\n      (codingText = arrToText(codeArr));\r\n    // dispatch(encriptTextEdit(codingText));\r\n  };\r\n  let onPressCode = () => {\r\n    let textArr = textToArr(mainText), // числовой масив текста\r\n      keyArr = textToArr(key), // числовой масив ключа\r\n      codeArr = codeText(textArr, keyArr), // числовой масив закодированого текста\r\n      codingText = arrToText(codeArr);\r\n    dispatch(encriptTextEdit(codingText));\r\n    codeText(textToArr(currentLang), textToArr(currentLang));\r\n\r\n    console.log(textArr);\r\n    console.log(keyArr);\r\n    console.log(codeArr);\r\n    console.log(\"codingText\", codingText);\r\n\r\n    let decodeArr = deCodeText(codeArr, keyArr), // числовой масив закодированого текста\r\n      changeText = arrToText(decodeArr);\r\n    dispatch(deEncriptTextEdit(changeText));\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header} elevation={7}>\r\n        <TouchableOpacity></TouchableOpacity>\r\n      </View>\r\n      <ScrollView style={styles.scroll}>\r\n        <View style={styles.mainWrapper}>\r\n          <View style={styles.inputWrapper}>\r\n            <TextInput\r\n              style={styles.input}\r\n              numberOfLines={4}\r\n              multiline\r\n              placeholder={\"Введите текст...\"}\r\n              onChangeText={(text) => onChangeText(text)}\r\n            ></TextInput>\r\n          </View>\r\n\r\n          <View style={styles.inputWrapper}>\r\n            <TextInput\r\n              style={styles.input}\r\n              placeholder={\"Введите ключ...\"}\r\n              //value={Key}\r\n              onChangeText={(text) => onChangeKey(text)}\r\n            ></TextInput>\r\n          </View>\r\n          <View style={styles.btnWrapper}>\r\n            <View style={styles.btn}>\r\n              <Button\r\n                title=\"Шифровать\"\r\n                onPress={onPressCode}\r\n                color={THEME.btn_color}\r\n              ></Button>\r\n            </View>\r\n            <View style={styles.btn}>\r\n              <Button\r\n                title=\"Разшифровать\"\r\n                onPress={onPressDeCode}\r\n                color={THEME.btn_color}\r\n              ></Button>\r\n            </View>\r\n          </View>\r\n          <View style={styles.inputWrapper}>\r\n            <TextInput\r\n              style={styles.input}\r\n              numberOfLines={4}\r\n              multiline\r\n              placeholder={\"Результат...\"}\r\n              editable={false}\r\n              value={finishText}\r\n            ></TextInput>\r\n          </View>\r\n          <View style={styles.btn}>\r\n            <Button\r\n              title=\"Копировать\"\r\n              onPress={Clipboard.setString(finishText)}\r\n              color={THEME.btn_color}\r\n            ></Button>\r\n          </View>\r\n          <View\r\n            style={{ ...styles.inputWrapper, backgroundColor: THEME.bg_color }}\r\n          >\r\n            <TextInput\r\n              style={{ ...styles.input, backgroundColor: THEME.bg_color }}\r\n              numberOfLines={4}\r\n              multiline\r\n              editable={false}\r\n              placeholder={\"Проверка\"}\r\n              value={decodingText}\r\n            ></TextInput>\r\n          </View>\r\n        </View>\r\n      </ScrollView>\r\n\r\n      <Text>{currentLang}</Text>\r\n      <Text> sdf</Text>\r\n      <StatusBar style=\"auto\" />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: THEME.bg_color,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    height: 80,\r\n    backgroundColor: THEME.header_color,\r\n    marginBottom: 5,\r\n  },\r\n  scroll: {\r\n    width: \"100%\",\r\n  },\r\n  mainWrapper: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#fff\",\r\n    width: \"100%\",\r\n    backgroundColor: THEME.bg_color,\r\n\r\n    // backgroundColor:'white',\r\n  },\r\n  input: {\r\n    backgroundColor: \"#fff\",\r\n    width: \"100%\",\r\n  },\r\n  inputWrapper: {\r\n    padding: 5,\r\n    borderRadius: 8,\r\n    backgroundColor: \"#fff\",\r\n    width: \"80%\",\r\n    marginVertical: 5,\r\n  },\r\n  btnWrapper: {\r\n    flexDirection: \"row\",\r\n\r\n    justifyContent: \"space-around\",\r\n    width: \"80%\",\r\n    marginTop: 10,\r\n  },\r\n  btn: {\r\n    //alignItems: \"flex-end\",\r\n\r\n    width: \"45%\",\r\n  },\r\n  text: {\r\n    color: \"white\",\r\n  },\r\n});\r\n\r\nlet changeLangArr = (text) => {\r\n  let mapArray = [];\r\n  for (let i = 0; i < str.length; i++) {\r\n    let arr = { i, str: str[i] };\r\n    mapArray.push(arr);\r\n  }\r\n  console.log(mapArray);\r\n  console.log(str);\r\n};\r\n/*\r\n  let autext = \"\";\r\n    console.log(\"-----\");\r\n    for (let i = 32; i < 127; i++) {\r\n      autext = autext + String.fromCharCode(i);\r\n    }\r\n    for (let i = 1040; i < 1104; i++) {\r\n      autext = autext + String.fromCharCode(i);\r\n    }\r\n\r\n    console.log('autext',autext)\r\n    */\r\n"]},"metadata":{},"sourceType":"module"}